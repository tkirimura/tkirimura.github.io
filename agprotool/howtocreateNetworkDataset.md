## 道路中心線データを使ったArcGIS Pro用ネットワークデータセットの作り方
国土地理院のベクトルタイル提供実験の道路中心線データからは、ネットワーク分析（拙著『[ArcGIS Proではじめる地理空間データ分析](https://www.kokon.co.jp/book/b642158.html)』（以下、テキストと呼びます）参照）を行うための簡易的なネットワークデータセットを作成・構築することができます。本格的なネットワーク分析を行うためには、方向などの属性がある道路データが必要になりますが、ここでは道路中心線データによるシンプルな方法について解説します。

### ポイント
ネットワークデータセットを作成するためには、道路の区間ごとに、移動手段別の所要時間を計算しておく必要があります。自動車では何分、徒歩では何分といった具合です。また、石段のように、自動車では通れないような道路もありますので、そうした道路は通行できないことがわかるようなフィールドも追加する必要があります。
ここでは、テキスト20章と同様のデータを作成することを目的に、自動車と徒歩という2種類の移動手段を設定します。


### 道路中心線データのダウンロードと準備
1. [地理院ベクトルタイルデータの取得](README.md)ツールを使って、必要な範囲の道路中心線データをダウンロードします。
2. 「投影変換 (Project)」ツールで、道路中心線データを平面直角座標系などの投影座標系に変換します。
道路中心線データは緯度経度（地理座標系）のデータなので、ラインの長さを距離としてそのまま利用することができません。そのため、投影座標系に変換しておきます。
3. まず、



### ネットワークデータセットの準備
4. ネットワークデータセットを作成するファイルジオデータベース内に、フィーチャデータセットを作成します。
カタログウィンドウで、ファイルジオデータベースを右クリックし、「新規」⇒「フィーチャデータセット」の順にクリックしてください。座標系は2で設定した投影座標系にしましょう。
5. カタログウィンドウで、作成したフィーチャデータセット内に、投影座標系に変換した道路中心線データを移動（またはコピー）させます。
6. 「ネットワークデータセットの作成 (Create Network Dataset)」ツールを使って、作成したフィーチャデータセットをもとに、新しくネットワークデータセットを作成します。
"ターゲットフィーチャデータセット"は作成したフィーチャデータセット、"ネットワークデータセット名"は任意の名前、"ソースフィーチャクラス"は道路中心線データを選び、"高度モデル"は"高度フィールド"のままにして「実行」します。
7. 作成に成功すると、マップにネットワークデータセットが追加されますので、一度マップから削除します。
マップに追加されている状態では、設定の変更ができないためです。
8. カタログウィンドウで、作成されたネットワークデータセットを右クリックして「プロパティ」を表示します。
ネットワークデータセットのプロパティで、移動手段別の
9. 


